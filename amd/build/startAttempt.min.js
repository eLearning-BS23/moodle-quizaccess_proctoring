define("quizaccess_proctoring/startAttempt",["jquery","core/ajax","core/notification"],(function($,Ajax,Notification){return{setup:function(props){return console.log(props.examurl),$("#fcvalidate").click((function(event){event.preventDefault();var photo=document.getElementById("photo"),canvas=document.getElementById("canvas"),video=document.getElementById("video");canvas.getContext("2d").drawImage(video,0,0,canvas.width,canvas.height);var data=canvas.toDataURL("image/png");photo.setAttribute("src",data);var request={methodname:"quizaccess_proctoring_validate_face",args:{courseid:document.getElementById("courseidval").value,cmid:document.getElementById("cmidval").value,profileimage:document.getElementById("profileimage").value,webcampicture:data}};document.getElementById("loading_spinner").style.display="block",Ajax.call([request])[0].done((function(res){res.warnings.length<1?(document.getElementById("loading_spinner").style.display="none","success"===res.status?($("#video").css("border","10px solid green"),$("#face_validation_result").html('<span style="color: green">True</span>'),document.getElementById("fcvalidate").style.display="none",$("#form_activate").css("visibility","visible")):($("#video").css("border","10px solid red"),$("#face_validation_result").html('<span style="color: red">False</span>'))):(document.getElementById("loading_spinner").style.display="none",video&&Notification.addNotification({message:"Something went wrong during taking the image.",type:"error"}))})).fail(Notification.exception)})),!0}}}));

//# sourceMappingURL=startAttempt.min.js.map